<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
      <!--in script file k bina dropdown button kaam hi nhi krega -->
<!--      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>-->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
              integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
              integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>   <!-- to open modal -->
<!--      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>-->

    <title>Imagebazaar</title>
    <!--to color navbar i have used style  and background code from material color website -->
      <!--      #to add color in navbar (bg) in nav tag =navbar navbar-expand-lg (bg) navbar-dark navbar-static-top-->
      <!--hover to category dropdown => #navbarDropdownMenuLink:hover-->
      <!--      hover to home => #navrbarhome:hover-->
<!--      .dropdown:hover>.dropdown-menu{display:block; } hover to dropdown-->
<!--      .list-group-item.active{                       #category k liye hai-->
    <style>
      .bg{
      background:#9c27b0!important;}                 #9c27b0 => purple

      h3{
      margin:250px; }

      .list-group-item{                       #category k liye hai
      background:#9c27b0!important;}

      .list-group-item:hover{
      background-color:#9c27b0!important;
      color:#ffffff;
      }

      #navrbarhome:hover{
      transform: scale(1.05); }

      #navbarDropdownMenuLink:hover{
      transform: scale(1.05);
      color: #ffffff;}

      .dropdown:hover>.dropdown-menu{
      display:block;}

      .card-img-top:hover{
		transform: scale(1.3);
		background: #ff800a;
		z-index: 1;   #just to move image in z-axis upward
<!--		box-shadow: 2px 2px 2px #000;--> }
    </style>

  </head>

  <body>
{%include 'base.html' %}      <!-- navbar ka code base.html me hai -->

<div class="container-fluid">
<!--  main code-->
  <div class="row">  <!-- ek row=12column-->
      <div class="col-md-2">  <!--idhar diya 2column  and md for rearrange in mobile too-->

        <!--categories-->
        <div class="list-group mt-3">
          <a href="/#" class="list-group-item"  aria-current="true" >All Images</a>
<!--style="background:#9c27b0!important;"-->
          {%for c in cats%}
          <a href="/categorys/{{c.pk}}" class="list-group-item list-group-item-action" >{{c.title}}</a>
           {% endfor%}

        </div>

      </div>
      <div class="col-10">   <!--idhar diya 10column -->

        <!--Images-->
        <div class="row mt-3">
          <div class="col-md-12">
<!--              <div class="card-columns">-->

            <div class="row row-cols-md-5 g-3">
<!--row row-cols-2 row-cols-md-4 g-3-->
              {%for i in images%}

              <div class="card">
                <img class="card-img-top" src="/media/{{i.image}}" alt="card image cap">
                <div class="card-body">
                  <h5 class="card-title">{{i.title}}</h5>
                  <p class="card-text">{{i.description}}</p>
                  <a href="#" class="btn btn-primary" style="background:#9c27b0!important;" onclick="showModalwithImage('{{i.image}}')">
                      views
                  </a>
<!--                    <button type="button" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#image-modal">views-->
                    </button>
                </div>
              </div>

              {% endfor%}
            </div>
          </div>
        </div>

<!--        {%for i in images%}-->
<!--        <h1>{{i.title}}</h1>-->
<!--        {% endfor%}-->

      </div>
  </div>
</div>
<!-- Button trigger modal-->
<!--<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#image-modal">-->
<!--  Launch demo modal-->
<!--</button>-->

<!-- Modal -->
<div class="modal" id="image-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">My ImageBazaar</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body text-center">
<!--          <img class="card-img-top" src="/media/{{i.image}}" >-->
<!--          <img src="media/{{i.image}}" class="img-fliud" id="img-show" width="100%" height="100%">-->
          <img src="#" class="img-fliud" id="image-show" alt="checking" width="100%">

        <p>Modal body text goes here. testing!.</p>    <!--modal me ayega ye content-->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" style="background:#9c27b0!important;" data-bs-dismiss="modal">Close</button>
<!--        <button type="button" class="btn btn-primary">Save changes</button>-->
      </div>
    </div>
  </div>
</div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
<!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
-->

  <script>
      function showModalwithImage(imageurl){
      $('#image-modal').modal('show')
      $('#image-show').attr('src',`/media/${imageurl}`)

      }
  </script>
  </body>
</html>

<!--         var image-modal = new bootstrap.Modal(document.getElementById('image-modal'), show)-->
<!--         var image-show = new bootstrap.attr(document.getElementById('image-show'), 'src',`/media/{{i.image}}`)-->
<!--         var myModal = new bootstrap.Modal(document.getElementById('myModal'), options)-->
<!--         $('#myModal').modal('options')-->

<!--var image-modal = new bootstrap.Modal(document.getElementById('image-modal'), {show:true})-->
<!--      image-show.show(image-modal)-->
<!--var modal = document.getElementById('image-modal')-->


<!--      $('#image-show').attr('src',`/media/${imageurl}`)-->